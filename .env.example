# FN-Notifications Environment Configuration

# =============================================================================
# NOTIFICATION MODE CONFIGURATION
# =============================================================================
# Set to "false" for real notifications, "true" for test mode only
TEST_MODE=false

# Logging configuration
LOG_TWILIO_REQUESTS=true
LOG_LEVEL=debug

# =============================================================================
# DATABASE CONFIGURATION (Cloud PostgreSQL - Required)
# =============================================================================
# Cloud Database Configuration - Set your cloud PostgreSQL connection
DATABASE_URL=postgresql://postgres:[PASSWORD]@[HOST]:6543/postgres
POSTGRES_URL=postgresql://postgres:[PASSWORD]@[HOST]:6543/postgres

# =============================================================================
# PHOENIX WEB SERVER CONFIGURATION
# =============================================================================
SECRET_KEY_BASE=your-secret-key-base-change-in-production-minimum-64-chars
PHX_HOST=localhost
PHX_PORT=4000
MIX_ENV=dev

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Set to "staging" for development, "production" for production
ENVIRONMENT=staging

# =============================================================================
# KAFKA EVENT STREAMING CONFIGURATION (Confluent Cloud - Required)
# =============================================================================
# Confluent Cloud Configuration - Set your cloud Kafka cluster details
KAFKA_BROKERS=pkc-xxxxx.us-east-1.aws.confluent.cloud:9092
KAFKA_API_KEY=your-confluent-api-key
KAFKA_API_SECRET=your-confluent-api-secret
KAFKA_CONSUMER_GROUP=fn-notifications-cloud

# =============================================================================
# REAL EMAIL DELIVERY CONFIGURATION (Required when TEST_MODE=false)
# =============================================================================
# SMTP Configuration - Gmail Example
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=jsarabia.dev@gmail.com
SMTP_PASSWORD=your-gmail-app-password

# Alternative SMTP providers:
# SMTP_HOST=smtp.sendgrid.net  # SendGrid
# SMTP_HOST=smtp.mailgun.org   # Mailgun
# SMTP_HOST=smtp-relay.sendinblue.com  # Sendinblue

# =============================================================================
# REAL SMS/WHATSAPP DELIVERY CONFIGURATION (Required when TEST_MODE=false)
# =============================================================================
# Twilio Configuration
TWILIO_ACCOUNT_SID=your-twilio-account-sid-here
TWILIO_AUTH_TOKEN=your-twilio-auth-token-here
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Base URL for links in notifications
WEB_BASE_URL=http://localhost:4000

# Email sender configuration
SENDER_EMAIL=notifications@fnnotifications.local

# =============================================================================
# MONITORING AND TELEMETRY
# =============================================================================
ENABLE_TELEMETRY=true

# StatsD Configuration (optional)
STATSD_HOST=localhost
STATSD_PORT=8125

# =============================================================================
# CLOUD STORAGE CONFIGURATION (Optional - for template/attachment storage)
# =============================================================================
# BUCKET_URL=gs://fn-notifications-templates
# BUCKET_NAME=fn-notifications-templates
# STORAGE_PROJECT_ID=your-project-id
# STORAGE_SERVICE_ACCOUNT_JSON=/path/to/service-account.json
# # Or use service account JSON content directly (base64 encoded for env vars)
# # STORAGE_SERVICE_ACCOUNT_JSON_CONTENT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================================================
# CLOUD DEVELOPMENT QUICK SETUP
# =============================================================================
# Required cloud services setup:
# 1. Set DATABASE_URL to your cloud PostgreSQL instance (Supabase, AWS RDS, etc.)
# 2. Set KAFKA_BROKERS, KAFKA_API_KEY, KAFKA_API_SECRET for Confluent Cloud
# 3. Set BUCKET_NAME and STORAGE_* variables if using cloud storage
# 4. Configure external service credentials (Twilio, SMTP)
# 5. Start the application: make setup && make up

# =============================================================================
# DOCKER COMPOSE CONFIGURATION
# =============================================================================
COMPOSE_PROJECT_NAME=fn-notifications

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Never commit this file with real credentials to version control
# 2. Use environment-specific .env files (.env.dev, .env.prod)
# 3. For Gmail SMTP_PASSWORD, use App Password, not your regular password
# 4. Rotate credentials regularly
# 5. Monitor Twilio usage to avoid unexpected charges

# =============================================================================
# QUICK SETUP GUIDE
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Update TEST_MODE to "false" for real notifications
# 3. Add your real SMTP credentials (Gmail App Password recommended)
# 4. Add your Twilio credentials if using SMS/WhatsApp
# 5. Update contact info in database with your email/phone
# 6. Restart services: make down && make up