# fn-notifications Production Environment Configuration for GKE

# Phoenix Configuration
MIX_ENV=prod
PHX_HOST=notifications.findlynow.com
PORT=4000
SECRET_KEY_BASE=${SECRET_KEY_BASE}
PHX_SERVER=true

# Database (PostgreSQL)
DATABASE_URL=${DATABASE_URL}
POOL_SIZE=20

# Kafka Configuration
KAFKA_BROKERS=${KAFKA_BROKERS}
KAFKA_API_KEY=${KAFKA_USERNAME}
KAFKA_API_SECRET=${KAFKA_PASSWORD}
KAFKA_CONSUMER_GROUP=fn-notifications-prod

# Kafka Topics
KAFKA_POSTS_TOPIC=posts.events
KAFKA_MATCHING_TOPIC=posts.matching
KAFKA_USERS_TOPIC=users.events
KAFKA_CONTACT_TOPIC=contact.exchange

# Broadway Configuration
BROADWAY_CONCURRENCY=10
BROADWAY_BATCH_SIZE=100
BROADWAY_BATCH_TIMEOUT=1000

# Notification Channels
TWILIO_ACCOUNT_SID=${TWILIO_ACCOUNT_SID}
TWILIO_AUTH_TOKEN=${TWILIO_AUTH_TOKEN}
TWILIO_FROM_NUMBER=${TWILIO_FROM_NUMBER}

# SMTP Configuration
SMTP_SERVER=${SMTP_SERVER}
SMTP_PORT=587
SMTP_USERNAME=${SMTP_USERNAME}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM_EMAIL=notifications@findlynow.com
SMTP_FROM_NAME="Findly Now"

# Push Notifications
FIREBASE_PROJECT_ID=findly-now-prod
FIREBASE_CREDENTIALS=${FIREBASE_CREDENTIALS}
APNS_CERT=${APNS_CERT}
APNS_KEY=${APNS_KEY}
APNS_TEAM_ID=${APNS_TEAM_ID}

# Feature Flags
ENABLE_SMS=true
ENABLE_EMAIL=true
ENABLE_PUSH=true
ENABLE_WEBHOOKS=true
TEST_MODE=false

# Monitoring
LOG_LEVEL=info
TELEMETRY_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Performance
MAX_RETRIES=3
RETRY_BACKOFF_MS=1000
REQUEST_TIMEOUT_MS=30000
NOTIFICATION_BATCH_SIZE=500