# fn-notifications Development Environment Configuration for GKE

# Phoenix Configuration
MIX_ENV=dev
PHX_HOST=notifications-dev.findlynow.com
PORT=4000
SECRET_KEY_BASE=${SECRET_KEY_BASE}
PHX_SERVER=true

# Database (PostgreSQL)
DATABASE_URL=${DATABASE_URL}
POOL_SIZE=10

# Kafka Configuration
KAFKA_BROKERS=${KAFKA_BROKERS}
KAFKA_API_KEY=${KAFKA_USERNAME}
KAFKA_API_SECRET=${KAFKA_PASSWORD}
KAFKA_CONSUMER_GROUP=fn-notifications-dev

# Kafka Topics
KAFKA_POSTS_TOPIC=posts.events
KAFKA_MATCHING_TOPIC=posts.matching
KAFKA_USERS_TOPIC=users.events
KAFKA_CONTACT_TOPIC=contact.exchange

# Broadway Configuration
BROADWAY_CONCURRENCY=5
BROADWAY_BATCH_SIZE=50
BROADWAY_BATCH_TIMEOUT=2000

# Notification Channels
TWILIO_ACCOUNT_SID=${TWILIO_ACCOUNT_SID}
TWILIO_AUTH_TOKEN=${TWILIO_AUTH_TOKEN}
TWILIO_FROM_NUMBER=${TWILIO_FROM_NUMBER}

# SMTP Configuration
SMTP_SERVER=${SMTP_SERVER}
SMTP_PORT=587
SMTP_USERNAME=${SMTP_USERNAME}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM_EMAIL=notifications-dev@findlynow.com
SMTP_FROM_NAME="Findly Now Dev"

# Push Notifications
FIREBASE_PROJECT_ID=findly-now-dev
FIREBASE_CREDENTIALS=${FIREBASE_CREDENTIALS}
APNS_CERT=${APNS_CERT}
APNS_KEY=${APNS_KEY}
APNS_TEAM_ID=${APNS_TEAM_ID}

# Feature Flags
ENABLE_SMS=true
ENABLE_EMAIL=true
ENABLE_PUSH=false
ENABLE_WEBHOOKS=true
TEST_MODE=true

# Monitoring
LOG_LEVEL=debug
TELEMETRY_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Performance
MAX_RETRIES=2
RETRY_BACKOFF_MS=500
REQUEST_TIMEOUT_MS=60000
NOTIFICATION_BATCH_SIZE=100